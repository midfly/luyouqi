(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"01f5":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={mSwiper:n("88de").default,mInput:n("868f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content login-page ",class:"thmemcolor"+t.thmemcolor},[n("m-swiper",{attrs:{list:t.banner}}),n("v-uni-view",{staticStyle:{padding:"0 5%"}},[n("v-uni-view",{staticClass:"tips"},[n("v-uni-text",{staticStyle:{"font-size":"10px"}},[t._v("Olá!"+t._s(t.querydata.name)+", Bem vido a Wii-Fi, Insere o número de telemóvel")])],1)],1),n("iframe",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"iframeClass",attrs:{id:"benefitnotice_iframe",src:t.ifaremUrl}}),n("v-uni-view",{staticStyle:{padding:"0 5%","margin-top":"15px"}},[n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"input-row border-bottom-1px"},[n("v-uni-image",{staticStyle:{width:"34px",height:"34px",padding:"2px"},attrs:{src:"../../static/icon/sj"+t.thmemcolor+".png",mode:""}}),n("v-uni-text",{staticClass:"title",staticStyle:{width:"80rpx","padding-left":"0"}},[t._v("+244")]),n("m-input",{staticStyle:{"margin-left":"5px"},attrs:{type:"number",placeholder:"Insere o número de telemóvel",maxLength:11,focus:!0},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),n("v-uni-view",{staticClass:"input-row border-bottom-1px",staticStyle:{"margin-top":"50px"}},[n("v-uni-image",{staticStyle:{width:"24px",height:"30px",padding:"7px"},attrs:{src:"../../static/icon/yzm"+t.thmemcolor+".png",mode:""}}),n("m-input",{attrs:{type:"number",placeholder:"Validação",maxLength:4},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}}),n("v-uni-view",{staticClass:"sendCode"},[n("v-uni-button",{attrs:{size:"mini",disabled:t.btnDis},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v(t._s(t.btnText))])],1)],1)],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.btnDis,expression:"btnDis"}],staticClass:"tips"},[n("v-uni-image",{staticStyle:{width:"12px",height:"12px","padding-top":"7px","padding-right":"7px"},attrs:{src:"../../static/icon/gou"+t.thmemcolor+".png",mode:""}}),n("v-uni-text",{staticStyle:{"font-size":"10px"}},[t._v("Já foi enviado o código de validação, pode haver um atraso, por favor aguarde")])],1)],1),n("v-uni-view",{staticClass:"btn-row"},[n("v-uni-button",{staticClass:"primary",attrs:{type:"primary",loading:t.submitBtnDis,disabled:t.submitBtnDis||t.submitBtnDisKey},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindLogin.apply(void 0,arguments)}}},[t._v("Iniciar internet")])],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.maskcountdownshow,expression:"maskcountdownshow"}],staticClass:"maskcountdown"},[n("h2",[t._v("loading...")]),n("h1",[t._v(t._s(t.timer1))])])],1)},o=[]},1837:function(t,e,n){"use strict";n.r(e);var i=n("bb47"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"1beb":function(t,e,n){"use strict";n.r(e);var i=n("01f5"),a=n("1837");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("c937");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"705f427f",null,!1,i["a"],r);e["default"]=c.exports},"28a9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"swiper-box"},[n("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!1,autoplay:!0,interval:3e3,duration:500,circular:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},t._l(t.list,(function(e,i){return n("v-uni-swiper-item",{key:i},[n("v-uni-view",{staticClass:"swiper-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.dump(e)}}},[n("v-uni-image",{staticClass:"swiper-item",attrs:{src:e.src,mode:""}})],1)],1)})),1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"dtos"},t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"dto",class:{"dto-active":i===t.currIndex}})})),1)],1)},o=[]},"291f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{list:Array},data:function(){return{currIndex:0}},methods:{change:function(t){this.currIndex=t.detail.current},dump:function(e){t("log",e," at components/m-swiper/m-swiper.vue:36");0==e.type?this.$mRouter.push({route:this.$mRoutesConfig.news,query:{id:e.id}}):this.$mRouter.push({route:this.$mRoutesConfig.webview,query:{url:e.dump_uri}})}}};e.default=n}).call(this,n("0de9")["log"])},"7d1e":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.login-page[data-v-705f427f]{background:#fff;position:relative}.h2[data-v-705f427f]{font-size:%?50?%;text-align:center;padding:%?60?% 0}.input-group[data-v-705f427f]{background-color:#fff;margin-top:%?10?%}.tips[data-v-705f427f]{padding-left:%?20?%;margin-top:%?20?%;color:#8c8c8c;font-size:%?26?%}.vs[data-v-705f427f]{position:absolute;bottom:%?70?%;text-align:center;width:100%}.sendCode[data-v-705f427f]{display:flex;align-items:center;box-sizing:border-box;align-items:stretch;padding-top:5px;height:%?60?%;border-radius:%?35?%}.sendCode uni-button[data-v-705f427f]{border-radius:%?35?%!important;align-items:center;justify-content:center;color:#fff;border-radius:0;font-size:12px}.sendCode uni-button[data-v-705f427f]::after{display:none}.btn-row[data-v-705f427f]{padding:0 %?80?%}uni-button.primary[data-v-705f427f]{border-radius:%?80?%}.maskcountdown[data-v-705f427f]{width:100%;height:100%;position:absolute;padding-top:45%;color:#ccc;background-color:rgba(0,0,0,.5);z-index:9999;text-align:center}.thmemcolor1 uni-button.primary[data-v-705f427f]{background-color:#eb7b12}.thmemcolor1 .sendCode uni-button[data-v-705f427f]{background:#f05a28}.thmemcolor1 .tips uni-text[data-v-705f427f]{color:#f05a28}.thmemcolor1 .hearder[data-v-705f427f]{height:50px;background-color:#006baa;color:#fff;text-align:center;vertical-align:middle;line-height:50px;font-size:18px}.thmemcolor2 uni-button.primary[data-v-705f427f]{background-color:#0092c5}.thmemcolor2 .sendCode uni-button[data-v-705f427f]{background:#069}.thmemcolor2 .tips uni-text[data-v-705f427f]{color:#069}.thmemcolor2 .uni-page-head[data-v-705f427f]{background-color:#006baa!important}',""]),t.exports=e},"88de":function(t,e,n){"use strict";n.r(e);var i=n("28a9"),a=n("98c3");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("d1dc");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"c640de2c",null,!1,i["a"],r);e["default"]=c.exports},"98c3":function(t,e,n){"use strict";n.r(e);var i=n("291f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},bb47:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o=i(n("5530")),r=n("26cb"),s=i(n("868f")),c=i(n("d5ab")),u=i(n("7d61")),d=(i(n("88de")),{components:{mInput:s.default},data:function(){return{maskcountdownshow:!1,timer1:5,ifaremUrl:"",banner:[],loginTitleTxt:this.$mConfig.loginTitleTxt,copyrightTxt:this.$mConfig.copyrightTxt,btnDis:!1,submitBtnDis:!1,btnText:"Enviar código de validação",params:{mobile:"",code:""},reqBody:{},redirectRoute:this.$mRoutesConfig.main,routeQuery:{},querydata:{},thmemcolor:1}},onLoad:function(e){this.thmemcolor=uni.getStorageSync("themecss")||1,1==this.thmemcolor&&uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#f05a28"}),2==this.thmemcolor&&uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#006baa"}),this.querydata=(0,o.default)({type:"wifilogin"},e),t("log",e," at pages/login/login.vue:101"),this.getBanners(e)},computed:(0,o.default)((0,o.default)((0,o.default)({},(0,r.mapState)(["openId"])),(0,r.mapGetters)(["hasLogin"])),{},{submitBtnDisKey:function(){var t={};t["mobile"]=this.params.mobile,t["code"]=this.params.code;var e=c.default.check(t,u.default.loginRule);return!e}}),methods:{getBanners:function(e){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var a,r,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$apis.getBanners((0,o.default)((0,o.default)({},e),{},{weizhi:"login"}));case 2:for(a=i.sent,t("log",a," at pages/login/login.vue:121"),r=[],s=0;s<a.length;s++)r.push({src:n.$mAssetsPath.bannerhost+a[s].show_image,url:""});n.banner=r;case 7:case"end":return i.stop()}}),i)})))()},initredirectRouteData:function(t){t.redirectUrl&&(this.redirectRoute.path=t.redirectUrl,delete t.redirectUrl,this.routeQuery=t)},bindLogin:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var i,a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,e.reqBody["mobile"]=e.params["mobile"],e.reqBody["code"]=e.params["code"],i=c.default.check(e.reqBody,u.default.loginRule),i){n.next=7;break}return uni.showToast({title:c.default.error,icon:"none"}),n.abrupt("return");case 7:return e.submitBtnDis=!0,a=(0,o.default)((0,o.default)({},e.querydata),e.reqBody),n.next=11,e.$apis.wifipostLogin(a);case 11:r=n.sent,t("log",r.url," at pages/login/login.vue:163"),s=e,document.querySelector("#benefitnotice_iframe"),e.ifaremUrl=r.url,s.$store.commit("SET_USERINFO",r.userinfo||{}),t("log",s.$mConfig," at pages/login/login.vue:171"),s.$store.commit("SET_TOKEN",s.$mConfig.tokenkey),uni.setStorageSync("token",r.userinfo.token),e.countDown1(),setTimeout((function(){window.location.href="/#/pages/index/index"}),5e3),n.next=27;break;case 24:n.prev=24,n.t0=n["catch"](0),e.submitBtnDis=!1;case 27:case"end":return n.stop()}}),n,null,[[0,24]])})))()},sendCode:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=c.default.check(t.params,u.default.sendCodeRule),n){e.next=4;break}return uni.showToast({title:c.default.error,icon:"none"}),e.abrupt("return");case 4:return e.next=6,t.$apis.getMsgCode({type:0,mobile:t.params.mobile});case 6:e.sent,uni.showToast({title:"Enviado com sucesso"}),t.countDown();case 9:case"end":return e.stop()}}),e)})))()},countDown:function(){var t=this,e=null,n=60;this.btnDis=!0,clearInterval(e),this.btnText="".concat(n,"s"),e=setInterval((function(){if(0==n)return clearInterval(e),t.btnText="Reenviar",void(t.btnDis=!1);n--,t.btnText="Reenviar em ".concat(n," segundos")}),1e3)},countDown1:function(){this.maskcountdownshow=!0;var e=this,n=null;clearInterval(n),n=setInterval((function(){0!=e.timer1?(e.timer1=e.timer1-1,t("log",e.timer1," at pages/login/login.vue:242")):clearInterval(n)}),1e3)}}});e.default=d}).call(this,n("0de9")["log"])},c366:function(t,e,n){var i=n("efe1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("29fd8c93",i,!0,{sourceMap:!1,shadowMode:!1})},c937:function(t,e,n){"use strict";var i=n("e760"),a=n.n(i);a.a},d1dc:function(t,e,n){"use strict";var i=n("c366"),a=n.n(i);a.a},e760:function(t,e,n){var i=n("7d1e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("25d56b66",i,!0,{sourceMap:!1,shadowMode:!1})},efe1:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.swiper-box[data-v-c640de2c]{width:100%;height:%?383?%;background:#fff}.swiper[data-v-c640de2c]{width:%?700?%;height:%?350?%;margin:%?25?% auto 0}.swiper-item[data-v-c640de2c]{width:%?700?%;height:%?350?%;border-radius:%?15?%}.dtos[data-v-c640de2c]{display:flex;justify-content:center;margin-top:%?22?%}.dtos .dto[data-v-c640de2c]{width:%?14?%;height:%?14?%;border-radius:%?500?%;background:#e5e5e5;margin:0 %?7?%;transition:width .5s}.dtos .dto-active[data-v-c640de2c]{background:#c2c2c2;width:%?26?%}',""]),t.exports=e}}]);